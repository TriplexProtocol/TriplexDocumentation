# Triplex协议测试用例模板

## 基本信息

| 字段 | 描述 |
|-----|-----|
| 测试用例ID | TC-[模块代码]-[编号] (例如：TC-LP-001) |
| 测试名称 | [简短描述测试目的] |
| 测试类型 | [单元测试/集成测试/功能测试/性能测试/安全测试] |
| 所属模块 | [流动性池管理/清算机制/资金费率计算/债务报告系统/预言机集成] |
| 优先级 | [高/中/低] |
| 编写人员 | [姓名] |
| 编写日期 | [YYYY-MM-DD] |
| 测试环境 | [开发环境/测试环境/预生产环境] |
| 自动化状态 | [已自动化/待自动化/不适合自动化] |

## 测试目标

[详细描述测试的目标和要验证的功能点]

## 前置条件

[列出执行测试用例所需的所有前置条件和环境准备]

1. 
2. 
3. 

## 测试数据

[描述测试中将使用的数据，包括输入值、边界条件等]

| 数据项 | 值 | 说明 |
|-------|-----|-----|
| | | |
| | | |
| | | |

## 测试步骤

[详细列出执行测试的每个步骤，需要足够清晰，使任何人都能按照步骤重现测试]

1. 
2. 

## 预期结果

[详细描述每个测试步骤的预期结果，这部分应该非常明确]

1. 
2. 

## 实际结果

[测试执行后填写，记录实际观察到的结果]

1. 
2. 

## 测试状态

- [ ] 通过
- [ ] 失败
- [ ] 阻塞
- [ ] 未执行

## 缺陷链接

[如果测试失败，提供关联的缺陷报告链接]

## 执行信息

| 字段 | 描述 |
|-----|-----|
| 执行人员 | [姓名] |
| 执行日期 | [YYYY-MM-DD] |
| 执行时间 | [HH:MM] |
| 执行环境 | [开发环境/测试环境/预生产环境] |

## 备注

[任何其他相关信息，如特殊观察、限制条件、环境问题等]

## 附件

[测试相关的屏幕截图、日志文件、数据文件等]

---

## 测试用例示例

### 测试用例：TC-LP-001

#### 基本信息

| 字段 | 描述 |
|-----|-----|
| 测试用例ID | TC-LP-001 |
| 测试名称 | 验证普通用户无法创建流动性池 |
| 测试类型 | 功能测试 |
| 所属模块 | 流动性池管理 |
| 优先级 | 高 |
| 编写人员 | 张三 |
| 编写日期 | 2023-06-08 |
| 测试环境 | 测试环境 |
| 自动化状态 | 已自动化 |

#### 测试目标

验证系统正确实现了权限控制，确保只有管理员账户能够创建流动性池，普通用户的创建请求会被拒绝。

#### 前置条件

1. 系统已初始化并正常运行
2. 测试账户已创建（包括普通用户账户和管理员账户）
3. 测试账户中已有足够的代币用于创建流动性池

#### 测试数据

| 数据项 | 值 | 说明 |
|-------|-----|-----|
| 普通用户账户地址 | 0x12345... | 没有管理员权限的用户账户 |
| 池名称 | "Test Pool" | 待创建的流动性池名称 |
| 初始流动性 | 1000 USDC | 创建池时提供的初始流动性 |
| 手续费率 | 0.3% | 池的交易手续费率设置 |

#### 测试步骤

1. 使用普通用户账户登录系统
2. 尝试创建名为"Test Pool"的新流动性池
3. 设置初始流动性为1000 USDC
4. 设置手续费率为0.3%
5. 提交创建请求
6. 检查系统响应和错误信息

#### 预期结果

1. 系统拒绝普通用户的池创建请求
2. 返回权限错误，错误代码为"NOT_AUTHORIZED"
3. 系统日志中记录了尝试操作及其被拒绝的信息
4. 流动性池列表中不会出现新创建的池
5. 用户账户中的代币余额保持不变

#### 实际结果

1. 系统拒绝了池创建请求
2. 返回错误消息："Error: NOT_AUTHORIZED. Only admin accounts can create liquidity pools."
3. 系统日志记录了操作尝试："{timestamp} - User 0x12345... attempted to create pool 'Test Pool' - Access denied"
4. 流动性池列表未发生变化
5. 用户账户中代币余额为初始值，未被扣除

#### 测试状态

- [x] 通过
- [ ] 失败
- [ ] 阻塞
- [ ] 未执行

#### 执行信息

| 字段 | 描述 |
|-----|-----|
| 执行人员 | 李四 |
| 执行日期 | 2023-06-10 |
| 执行时间 | 14:30 |
| 执行环境 | 测试环境 |

#### 备注

测试执行过程中系统响应时间正常，权限检查在请求提交后立即进行，未观察到任何性能问题。

#### 附件

[screenshot_permission_error.png]
[system_log_excerpt.txt] 